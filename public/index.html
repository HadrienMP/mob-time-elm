<!DOCTYPE HTML>
<html lang="en">
<head>
    <meta charset="UTF-8">

    <link rel="preconnect" href="https://fonts.gstatic.com"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <link href="https://fonts.googleapis.com/css2?family=Fredericka+the+Great&family=Oswald&display=swap"
          rel="stylesheet"/>
    <script src="https://kit.fontawesome.com/36321d34e2.js" crossorigin="anonymous"></script>
    <title>tenpo kulupu</title>
    <link rel="stylesheet" href="/css/main.css">
</head>

<body>

<pre id="elm"></pre>
<script src="https://cdn.jsdelivr.net/npm/gun/gun.js"></script>
<script src="/js/main.js"></script>
<script>

    const app = Elm.Main.init({ node: document.getElementById('elm'), });

    // -----------------------------------------
    // GUN JS
    // -----------------------------------------
    const gun = Gun(['https://gunjs-hadrienmp.herokuapp.com/gun']);
    let events = gun.get("events");
    app.ports.sendEvent.subscribe(event => {
        events.set(event);
    });
    events.map().on((data, id) => {
        console.log(data, id);
        return app.ports.receiveEvent.send(data);
    });
    // -----------------------------------------
</script>
</body>
</html>
